language: go
go:
- 1.8.x
- 1.9.x
- 1.10.x
install: make deps
script: make
before_deploy: make dist
deploy:
  provider: releases
  api_key:
    secure: r7I1ZOyrg1+i8pL2O68lLtPUN0TUdQovhXtuQvP+7Jymq/PTN2eIZ0fqtt04Oc+4XkGdpnFDN0zSlYvxQqCMaTNwfUXrTPEwdlEpVRR23MRLQM4fohRoQqaleMWT8k1K5XqG+57/qCVxTpcFeVyQdfnwHo4/4ygejEW/KnQT3GymoytlvTtsoObRunhAz9L1tV+tpTc0vFqd31r7EJRToe/adx13sP+3ED+8nA8zSQ2C4gHB9p+BVQ2EwH2y8RpAIAIRcCnDCxcBfM9rStilLvLyF+X7lOSG8H4/olBbLFRKGiABx7tjP4pFz2ddIoUL1BV8uKq5fkvkRmpknkJkRaWuSfLFKXA6ELjkX2e67/iNCf7Pe2nj/WbHTgvSN/8CLSbrYb5ixDy2nXA8Tdj2svt5CnSEofpn/9QpYScBWfAFl1Uxp15Tb8jJEnCeZZvZeVl5YR74kZOxolijOnPLmbi/VNKfgG1uU6MYGAS7kjNSe+5M8KIEaVMoWL8Q0rLREJMa1YQCFIkYNYB6NkiYc39mU/fyPGw2poQ+UNF97TCfL5dVCL0KnuFY0nRP7v0vEZRGf38BybfYLvwDFVqN0Q87sS3Nu0LTg0ua/7AzuCmrVgckHtRYltJEDfZn0G+rfM9fz4J10LL1K/xCdVh6P+Sr7rP+MDws8G5qXu6H5iE=
  file_glob: true
  file:
    - dist/*-v*.tar.gz
    - dist/*-v*.zip
  on:
    tags: true
    condition: $TRAVIS_TAG =~ ^v[0-9]+\.[0-9]+(\.[0-9]+)?(-[^ \t\r\n\v\f]*)?$ && $TRAVIS_GO_VERSION =~ ^1\.10\.[0-9]+$
